var htmlTemplates=htmlTemplates||{};htmlTemplates["tiles/tiles.html"]='<header class=tile-header>\n	<a class=tile-author>\n		<% if (profile_image_url) { %>\n			<img class=tile-author-avatar src="<%=profile_image_url%>" alt="<%=name%>\'s avatar">\n		<% } %>\n		<strong class=tile-author-name><%=name%></strong>\n	</a>\n	<span class=tile-actions>\n		<span class="icon icon-<%=type%>"></span>\n	</span>\n</header>\n<div class=tile-content>\n	<% if (media_url) { %>\n		<img class=tile-media src="<%=media_url%>" alt="<%=text%>" title="<%=text%>">\n	<% } else { %>\n		<%=linkify(truncate(text, 150))%>\n	<% } %>\n</div>\n<footer class=tile-footer>\n	<p class="tile-share float-left">\n		<a href=#>\n			<span class="icon icon-mini icon-twitter"></span>\n		</a>\n		<a href=#>\n			<span class="icon icon-mini icon-facebook"></span>\n		</a>\n		<a href=#>\n			<span class="icon icon-mini icon-pinterest"></span>\n		</a>\n		<a href=#>\n			<span class="icon icon-mini icon-envelope"></span>\n		</a>\n	<p class=float-right>\n		<time is=relative-time datetime="<%=time%>">\n			<%=time%>\n		</time>\n		<!--<a target=_blank href="<%=link%>">view post</a>-->\n</footer>\n',function t(n,e,r){function i(s,o){if(!e[s]){if(!n[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=e[s]={exports:{}};n[s][0].call(c.exports,function(t){var e=n[s][1][t];return i(e?e:t)},c,c.exports,t,n,e,r)}return e[s].exports}for(var a="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t){function n(){this.emit("error",new Error("not implemented"))}function e(t){return _.assign(function(){},r._streamer,{write:t})}var r=r||{};r._emitter={on:function(t,n){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(n)},off:function(t,n){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(n),1)},emit:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var n=Array.prototype.slice.call(arguments,1),e=0,r=this._events[t].length;r>e;e++)this._events[t][e].apply(this,n)}},r._streamer=_.assign({},r._emitter,{write:n,push:function(t){t&&this.emit("data",t)},pipe:function(t){return this.on("data",t.write.bind(t)),t}}),r._source=_.assign({},r._streamer,{pause:n,resume:n}),r.src={},r.src.json=function(t,n){function e(t){return e.fetch(t),i=setInterval(function(){return e.fetch(t)},n),e}var i=null,a=null;return n=n||2e4,_.assign(e,r._source,{fetch:function(n){a=n,d3.json(t+"/"+n,function(t,r){var i=r[n];if(i&&_.isArray(i))for(var a=i.length;a--;)e.push(i[a]);else e.push(i)})},pause:function(){clearTimeout(i)},resume:function(){e.start(a)}})},r.src.socketio=function(t){function n(r){e=io.connect(t),r="posts"===r?"default":r;var i=e.socket;return i.on("connect",function(){return e.emit("ready",r)}),i.on("connect_failed",function(){return console.error("connection failed")}),i.on("error",function(){return console.error("connection error")}),n.resume(),n}var e=null;return _.assign(n,r._source,{pause:function(){e.on("recvData",function(){return null})},resume:function(){e.on("recvData",function(t){return n.push(JSON.parse(t))})}})},r.src.mux=function(){function t(e){return n.forEach(function(t){return t(e)}),t}var n=[].slice.call(arguments);return _.assign(t,r._source,{pause:function(){n.forEach(function(t){return t.pause()})},resume:function(){n.forEach(function(t){return t.resume()})}})},r.src.test=function(t){function n(r){return e=r,i=setInterval(function(){n.push(e)},t),n}var e=null,i=null;return t=t||1e3,_.assign(n,r._source,{pause:function(){clearInterval(i)},resume:function(){n(e)}})},r.collect=function(){var t=[],n=[],e=null;return _.assign({},r._streamer,{write:function(r){var i=e?e(r):null;e&&_.any(n,function(t){return i===e(t)})||(n.push(r),t.forEach(function(t){n=t(n)}),this.push(n))},transform:function(n){return t.push(n),this},sort:function(t,n){return this.transform(function(e){var r=_.sortBy(e,t);return n?r.reverse():r})},dupes:function(t){return t||(t=function(t){return t}),e=t,n=_.unique(n,t),this}})},r.transform=function(t){return e(function(n){this.push(t(n))})},r.defaults=function(t){return r.transform(function(n){return _.defaults(n,t)})},r.log=function(){return e(function(t){console.log(t),this.push(t)})},r.filter=function(t){return r.transform(function(n){return t(n)?n:null})},r.utils={},r.utils.linkify=function(t){return t=t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a target=_blank href='$1'>$1</a>"),t=t.replace(/(^|\s)@(\w+)/g,'$1<a target=_blank href="http://twitter.com/$2">@$2</a>'),t.replace(/(^|\s)#(\w+)/g,'$1<a target=_blank href="http://twitter.com/search?q=%23$2">#$2</a>')},r.utils.truncate=function(t,n){return t.length>n?t.substring(0,n-3)+"...":t},window.nio=r,t("./tiles/tiles"),t("./graphs/graphs")},{"./graphs/graphs":2,"./tiles/tiles":3}],2:[function(){nio.graphs={},nio.graphs._graph={},nio.graphs.line=function(){function t(){function t(){o=new Date,f.domain([o-(i-2)*e,o-e]),console.log(a),s.push(a),m.select(".line").attr("d",h).attr("transform",null),d.transition().duration(e).ease("linear").call(f.axis),_.transition().duration(e).ease("linear").attr("transform","translate("+f(o-(i-1)*e)+")").each("end",t),s.shift()}var e=750,o=new Date(Date.now()-e),u={top:6,right:0,bottom:20,left:40},c=960-u.right,l=120-u.top-u.bottom;console.log(r);var f=d3.time.scale().domain(r.x||[o-(i-2)*e,o-e]).range([0,c]),p=d3.scale.linear().range([l,0]).domain(r.y||d3.max(s,n)),h=d3.svg.line().interpolate("basis").x(function(t,n){return f(o-(i-1-n)*e)}).y(function(t){return p(n(t))}),m=d3.select("body").append("p").append("svg").attr("width",c+u.left+u.right).attr("height",l+u.top+u.bottom).style("margin-left",-u.left+"px").append("g").attr("transform","translate("+u.left+","+u.top+")");m.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",c).attr("height",l);var d=m.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(f.axis=d3.svg.axis().scale(f).orient("bottom")),_=m.append("g").attr("clip-path","url(#clip)").append("path").data([s]).attr("class","line");t()}var n=function(t){return t},e=function(t){return t},r={},i=243,a={percent:0},s=d3.range(i).map(function(){return a});return _.assign({},nio._streamer,{x:function(t){return e=t,this},y:function(t){return n=t,this},domains:function(t){return r=t,this},render:t,write:function(t){this.push(t),a=t}})}},{}],3:[function(){var t=_.template(htmlTemplates["tiles/tiles.html"],null,{imports:nio.utils});nio.tiles=function(n){function e(){var n=r.selectAll("div").data(i);n.enter().append("div"),n.attr("class",function(t){return"tile tile-"+t.type+(t.media_url?" tile-has-media":"")}).html(function(n){return t(n)}),n.exit()}var r=d3.select(n),i=[],a=_.debounce(e,1e3);return a(),_.assign({},nio._streamer,{write:function(t){i=t,a(),this.push(i)}})}},{}]},{},[1]);
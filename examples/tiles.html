<!doctype html>
<meta charset=utf-8>
<title>nio.js examples</title>

<link rel=stylesheet href=http://fonts.googleapis.com/css?family=Roboto+Condensed:200,300,400|Roboto:400,500,300|Roboto+Slab>
<link rel=stylesheet href=../dist/nio.min.css>
<link rel=stylesheet href=example.css>
<style>
	.tiles {
		margin: 0 auto;
		padding: 20px;
	}
</style>
<script src=http://54.85.159.254:443/socket.io/socket.io.js></script>
<script src=../components/CustomElements/custom-elements.js></script>
<script src=../components/time-elements/time-elements.js></script>
<script src=../dist/nio.js></script>
<h1><span class="icon icon-nio icon-large" title=nio.js></span></h1>
<div class="tiles has-spacing has-gradient has-overlay has-fixed"></div>
<script>
	// save a JSON server
	var json = nio.json('http://54.85.159.254')
		// start polling the /posts URL
		.start('posts')
		// pick out the "posts" attribute of the returned JSON
		.pipe(nio.pick('posts'))

	// connect to a socketio server
	var socketio = nio.socketio('http://54.85.159.254:443')
		// join the "default" room
		.start('default')

	// combine the streams
	nio.join(json, socketio)
		// instead of passing each object 1 by 1, put them in an array so we can sort them
		.pipe(nio.collect({sort: 'time', dupes: 'id', min: 9, max: 9}))
		// only update tiles once every second
		.pipe(nio.throttle(1000))
		// send them to the tiles
		.pipe(nio.tiles('.tiles'))
</script>

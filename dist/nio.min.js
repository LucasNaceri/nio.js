var htmlTemplates=htmlTemplates||{};htmlTemplates["tiles/tiles.html"]='<header class=tile-header>\n	<a class=tile-author>\n		<% if (profile_image_url) { %>\n			<img class=tile-author-avatar src="<%=profile_image_url%>" alt="<%=name%>\'s avatar">\n		<% } %>\n		<strong class=tile-author-name><%=name%></strong>\n	</a>\n	<span class=tile-actions>\n		<span class="icon icon-<%=type%>"></span>\n	</span>\n</header>\n<div class=tile-content>\n	<% if (media_url) { %>\n		<img class=tile-media src="<%=media_url%>" alt="<%=text%>" title="<%=text%>">\n	<% } else { %>\n		<%=linkify(truncate(text, 150))%>\n	<% } %>\n</div>\n<footer class=tile-footer>\n	<p class="tile-share float-left">\n		<a href=#>\n			<span class="icon icon-mini icon-twitter"></span>\n		</a>\n		<a href=#>\n			<span class="icon icon-mini icon-facebook"></span>\n		</a>\n		<a href=#>\n			<span class="icon icon-mini icon-pinterest"></span>\n		</a>\n		<a href=#>\n			<span class="icon icon-mini icon-envelope"></span>\n		</a>\n	<p class=float-right>\n		<time is=relative-time datetime="<%=time%>">\n			<%=time%>\n		</time>\n		<!--<a target=_blank href="<%=link%>">view post</a>-->\n</footer>\n',function t(n,e,r){function i(a,o){if(!e[a]){if(!n[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=e[a]={exports:{}};n[a][0].call(l.exports,function(t){var e=n[a][1][t];return i(e?e:t)},l,l.exports,t,n,e,r)}return e[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t){function n(){this.emit("error",new Error("not implemented"))}function e(t){return _.assign(function(){},r._streamer,{write:t})}var r=r||{};r._emitter={on:function(t,n){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(n)},off:function(t,n){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(n),1)},emit:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var n=Array.prototype.slice.call(arguments,1),e=0,r=this._events[t].length;r>e;e++)this._events[t][e].apply(this,n)}},r._streamer=_.assign({},r._emitter,{write:n,push:function(t){this.emit("data",t)},pipe:function(t){return console.log(t),this.on("data",t.write.bind(t)),t}}),r._source=_.assign({},r._streamer,{pause:n,resume:n}),r.src={},r.src.json=function(t,n){function e(t){return e.fetch(t),i=setInterval(function(){return e.fetch(t)},n),e}var i=null,s=null;return n=n||2e4,_.assign(e,r._source,{fetch:function(n){s=n,d3.json(t+"/"+n,function(t,r){var i=r[n];if(i&&_.isArray(i))for(var s=i.length;s--;)e.push(i[s]);else e.push(i)})},pause:function(){clearTimeout(i)},resume:function(){e.start(s)}})},r.src.socketio=function(t){function n(r){e=io.connect(t),r="posts"===r?"default":r;var i=e.socket;return i.on("connect",function(){return e.emit("ready",r)}),i.on("connect_failed",function(){return console.error("connection failed")}),i.on("error",function(){return console.error("connection error")}),n.resume(),n}var e=null;return _.assign(n,r._source,{pause:function(){e.on("recvData",function(){return null})},resume:function(){e.on("recvData",function(t){return n.push(JSON.parse(t))})}})},r.src.mux=function(){function t(e){return n.forEach(function(t){return t(e)}),t}var n=[].slice.call(arguments);return _.assign(t,r._source,{pause:function(){n.forEach(function(t){return t.pause()})},resume:function(){n.forEach(function(t){return t.resume()})}})},r.src.test=function(t){function n(r){return e=r,i=setInterval(function(){n.push(e)},t),n}var e=null,i=null;return t=t||1e3,_.assign(n,r._source,{pause:function(){clearInterval(i)},resume:function(){n(e)}})},r.collect=function(){var t=[],n=[],e=null;return _.assign({},r._streamer,{write:function(r){var i=e?e(r):null;e&&_.any(n,function(t){return i===e(t)})||(n.push(r),t.forEach(function(t){n=t(n)}),this.push(n))},transform:function(n){return t.push(n),this},sort:function(t,n){return this.transform(function(e){var r=_.sortBy(e,t);return n?r.reverse():r})},dupes:function(t){return t||(t=function(t){return t}),e=t,n=_.unique(n,t),this}})},r.transform=function(t){return e(function(n){this.push(t(n))})},r.defaults=function(t){return r.transform(function(n){return _.defaults(n,t)})},r.log=function(){return e(function(t){console.log(t),this.push(t)})},r.utils={},r.utils.linkify=function(t){return t=t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a target=_blank href='$1'>$1</a>"),t=t.replace(/(^|\s)@(\w+)/g,'$1<a target=_blank href="http://twitter.com/$2">@$2</a>'),t.replace(/(^|\s)#(\w+)/g,'$1<a target=_blank href="http://twitter.com/search?q=%23$2">#$2</a>')},r.utils.truncate=function(t,n){return t.length>n?t.substring(0,n-3)+"...":t},window.nio=r,t("./tiles/tiles"),t("./graphs/graphs")},{"./graphs/graphs":2,"./tiles/tiles":3}],2:[function(){nio.graphs={},nio.graphs.line=function(t){function n(){return w.attr("width",m+h.left+h.right).attr("height",d+h.top+h.bottom).style("margin-left",-h.left+"px").append("g").attr("transform","translate("+h.left+","+h.top+")"),w.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",m).attr("height",d),u=w.append("g").attr("class","x axis").attr("transform","translate(0,"+d+")").call(g.axis=d3.svg.axis().scale(g).orient("bottom")),s=w.append("g").attr("clip-path","url(#clip)").append("path").data([p]).attr("class","line"),i=d3.svg.line().interpolate("basis").x(function(t){return g(a(t))}).y(function(t){return v(o(t))}),e(),e}function e(){i&&(f=new Date,g.domain([f-(l-2)*c,f-c]),v.domain([0,d3.max(p,o)]),w.select(".line").attr("d",i).attr("transform",null),u.transition().duration(c).ease("linear").call(g.axis),s.transition().duration(c).ease("linear").attr("transform","translate("+g(f-(l-1)*c)+")").each("end",e),p.shift())}var r=d3.select(t),i=null,s=null,a=null,o=null,u=null,l=243,c=750,f=new Date(Date.now()-c),p=[],h={top:6,right:0,bottom:20,left:40},m=960-h.right,d=120-h.top-h.bottom,g=d3.time.scale().domain([f-(l-2)*c,f-c]).range([0,m]),v=d3.scale.linear().range([d,0]),w=r.append("svg");return _.assign({},nio._streamer,{x:function(t){return a=t,this},y:function(t){return o=t,this},render:n,write:function(t){this.push(t),p.push(t),p.shift(),e()}})}},{}],3:[function(){var t=_.template(htmlTemplates["tiles/tiles.html"],null,{imports:nio.utils});nio.tiles=function(n){function e(){var n=r.selectAll("div").data(i);n.enter().append("div"),n.attr("class",function(t){return"tile tile-"+t.type+(t.media_url?" tile-has-media":"")}).html(function(n){return t(n)}),n.exit()}var r=d3.select(n),i=[],s=_.debounce(e,1e3);return s(),_.assign({},nio._streamer,{write:function(t){i=t,s(),this.push(i)}})}},{}]},{},[1]);